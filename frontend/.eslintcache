[{"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\App.js":"1","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\index.js":"2","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Loppis.js":"3","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Login.js":"4","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Navbar.js":"5","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\context\\AuthContext.js":"6","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Register.js":"7","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Store.js":"8","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\InsideStore.js":"9","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\context\\BasketContext.js":"10","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Basket.js":"11","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Account.js":"12","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Checkout.js":"13","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\AuthService.js":"14","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\ProductService.js":"15","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\UserService.js":"16","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\CheckoutItem.js":"17","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\OrderItem.js":"18","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\AddressService.js":"19","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\staticData\\Products.js":"20","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\PersonalInfo.js":"21","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Products.js":"22","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Address.js":"23","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\OrderService.js":"24","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\hocs\\PrivateRoute.js":"25","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\hocs\\UnPrivateRoute.js":"26","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\staticData\\Stores.js":"27"},{"size":1129,"mtime":1606138513980,"results":"28","hashOfConfig":"29"},{"size":604,"mtime":1606141969163,"results":"30","hashOfConfig":"31"},{"size":692,"mtime":1607349984602,"results":"32","hashOfConfig":"31"},{"size":1422,"mtime":1607346333525,"results":"33","hashOfConfig":"31"},{"size":3738,"mtime":1607347108727,"results":"34","hashOfConfig":"31"},{"size":854,"mtime":1607345184470,"results":"35","hashOfConfig":"31"},{"size":1335,"mtime":1607421737497,"results":"36","hashOfConfig":"31"},{"size":557,"mtime":1607350157901,"results":"37","hashOfConfig":"31"},{"size":2485,"mtime":1607350800814,"results":"38","hashOfConfig":"31"},{"size":451,"mtime":1606142174323,"results":"39","hashOfConfig":"31"},{"size":2432,"mtime":1607933611597,"results":"40","hashOfConfig":"31"},{"size":4514,"mtime":1612174281481,"results":"41","hashOfConfig":"31"},{"size":1702,"mtime":1607941874740,"results":"42","hashOfConfig":"31"},{"size":1300,"mtime":1607346209065,"results":"43","hashOfConfig":"31"},{"size":1451,"mtime":1610533367429,"results":"44","hashOfConfig":"31"},{"size":600,"mtime":1607935565358,"results":"45","hashOfConfig":"31"},{"size":6091,"mtime":1612183004328,"results":"46","hashOfConfig":"31"},{"size":3310,"mtime":1612174418034,"results":"47","hashOfConfig":"31"},{"size":1165,"mtime":1610529778135,"results":"48","hashOfConfig":"31"},{"size":349,"mtime":1606079931452,"results":"49","hashOfConfig":"31"},{"size":3549,"mtime":1610525830305,"results":"50","hashOfConfig":"31"},{"size":2841,"mtime":1610534270673,"results":"51","hashOfConfig":"31"},{"size":4944,"mtime":1612166888718,"results":"52","hashOfConfig":"31"},{"size":2306,"mtime":1612171955830,"results":"53","hashOfConfig":"31"},{"size":641,"mtime":1610544543881,"results":"54","hashOfConfig":"31"},{"size":646,"mtime":1610544745624,"results":"55","hashOfConfig":"31"},{"size":250,"mtime":1606078972020,"results":"56","hashOfConfig":"31"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ajjwkn",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},"xiqe6m",{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"77"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"77"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"61"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"68"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"77"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"77"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"77"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"112"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"68"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"77"},"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\App.js",[],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\index.js",[],["130","131"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Loppis.js",["132"],"import React, { useState, useEffect } from \"react\";\r\nimport Stores from \"../staticData/Stores\";\r\nimport Store from \"./Store\";\r\nimport UserService from \"../services/UserService\";\r\n\r\nconst Loppis = () => {\r\n  const [stores, setStores] = useState([]);\r\n\r\n  const getStores = () => {\r\n    UserService.getUsers().then((data) => {\r\n      setStores(data.users);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStores();\r\n  }, []);\r\n\r\n  console.log(stores);\r\n\r\n  return (\r\n    <>\r\n      <h1>Loppis</h1>\r\n      <div style={{ display: \"flex\" }}>\r\n        {stores.map((store) => (\r\n          <Store key={store._id} store={store} />\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Loppis;\r\n",["133","134"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Login.js",[],["135","136"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Navbar.js",[],["137","138"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\context\\AuthContext.js",["139"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Register.js",["140"],"import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AuthService from \"../services/AuthService\";\r\n\r\nconst Register = () => {\r\n  const history = useHistory();\r\n\r\n  const [user, setUser] = useState({ username: \"\", password: \"\" });\r\n\r\n  //message state to be used for snackbar notifications later\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const onChange = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    AuthService.register(user).then((data) => {\r\n      const { message } = data;\r\n      setMessage(message);\r\n      if (!message.msgError) {\r\n        history.push(\"/login\");\r\n      }\r\n    });\r\n  };\r\n\r\n  console.log(user);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Register</h1>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          name=\"username\"\r\n          value={user.username}\r\n          onChange={onChange}\r\n          required\r\n          placeholder=\"Username\"\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={user.password}\r\n          onChange={onChange}\r\n          required\r\n          placeholder=\"Password\"\r\n        />\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n",["141","142"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Store.js",[],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\InsideStore.js",["143","144"],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport Stores from \"../staticData/Stores\";\r\nimport Products from \"../staticData/Products\";\r\nimport { BasketContext } from \"../context/BasketContext\";\r\nimport ProductService from \"../services/ProductService\";\r\n\r\nconst InsideStore = (props) => {\r\n  const basketContext = useContext(BasketContext);\r\n\r\n  const { id } = props.match.params;\r\n\r\n  //const [storesData, setStoresData] = useState(Stores.getStores());\r\n  //const [productsData, setProductsData] = useState(Products.getProducts());\r\n  //const [storeProductsIds, setStoreProductsIds] = useState([]);\r\n  const [store, setStore] = useState(\"\");\r\n  const [products, setProducts] = useState([]);\r\n\r\n  //Sets the store state to the item in the Stores.getStores()-array to the item that has an id that matches the id from the url param\r\n  /*useEffect(() => {\r\n    setStore(storesData.find((store) => store.id.toString() === id));\r\n  }, []);\r\n\r\n  //Creates an array of ids retieved from the stores (store state) products array\r\n  useEffect(() => {\r\n    setStoreProductsIds(store.products);\r\n  }, [store]);\r\n\r\n  //Sets the products state to an array of products which ids mathes the ids from the storeProductIds (storeProductIds state) array\r\n  useEffect(() => {\r\n    if (storeProductsIds)\r\n      setProducts(\r\n        productsData.filter((product) =>\r\n          storeProductsIds.some((id) => id === product.id)\r\n        )\r\n      );\r\n  }, [storeProductsIds]);*/\r\n\r\n  useEffect(() => {\r\n    ProductService.getProducts({ _id: id }).then((data) => {\r\n      if (data) {\r\n        setProducts(data.products);\r\n        setStore(data.username);\r\n      }\r\n    });\r\n  }, [id]);\r\n\r\n  //Adds a product object to the cart and assigns it a counter property\r\n  const addToCart = (product) => {\r\n    const same = basketContext.basket.filter((item) => item === product);\r\n    Object.assign(product, {\r\n      count: same.length + 1,\r\n      price: parseInt(product.price),\r\n    });\r\n    basketContext.setBasket([...basketContext.basket, product]);\r\n  };\r\n\r\n  console.log(basketContext.basket);\r\n\r\n  return (\r\n    <div>\r\n      <h1>{store}</h1>\r\n      <h3>Products</h3>\r\n      <div>\r\n        {products.map((product) => (\r\n          <div key={product._id}>\r\n            <p>{`${product.name} - ${product.price} kr`}</p>\r\n            <button onClick={() => addToCart(product)}>Add to cart</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InsideStore;\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\context\\BasketContext.js",["145"],"import React, { createContext, useState } from \"react\";\r\n\r\nexport const BasketContext = createContext();\r\n\r\nexport default ({ children }) => {\r\n  const [basket, setBasket] = useState([]);\r\n  const [showBasket, setShowBasket] = useState(false);\r\n\r\n  return (\r\n    <div>\r\n      <BasketContext.Provider\r\n        value={{ basket, setBasket, showBasket, setShowBasket }}\r\n      >\r\n        {children}\r\n      </BasketContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Basket.js",[],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Account.js",["146","147","148","149"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Checkout.js",["150"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BasketContext } from \"../context/BasketContext\";\r\nimport Stores from \"../staticData/Stores\";\r\nimport UserService from \"../services/UserService\";\r\nimport CheckoutItem from \"./CheckoutItem\";\r\n\r\nconst Checkout = () => {\r\n  const [stores, setStores] = useState([]);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const basketContext = useContext(BasketContext);\r\n  const history = useHistory();\r\n\r\n  const getStores = () => {\r\n    UserService.getUsers().then((data) => {\r\n      if (data) {\r\n        setStores(data.users);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStores();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 2000);\r\n  }, [message]);\r\n\r\n  return (\r\n    <>\r\n      <h1>Checkout</h1>\r\n      {message !== null && <p>{message.msgBody}</p>}\r\n      {basketContext.basket.length > 0 ? (\r\n        <div>\r\n          {stores.map((store) => {\r\n            if (\r\n              store.products.some((p) =>\r\n                basketContext.basket.some((product) => p === product._id)\r\n              )\r\n            ) {\r\n              return (\r\n                <CheckoutItem\r\n                  key={store._id}\r\n                  store={store}\r\n                  setMessage={setMessage}\r\n                />\r\n              );\r\n            } else {\r\n              return null;\r\n            }\r\n          })}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <p>No items...</p>\r\n          <button onClick={() => history.push(\"/\")}>Back to market</button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\AuthService.js",["151"],"export default {\r\n  register: (user) => {\r\n    return fetch(\"/users/user/register\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(user),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => data);\r\n  },\r\n  login: (user) => {\r\n    return fetch(\"/users/user/login\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(user),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return {\r\n          isAuthenticated: false,\r\n          user: { _id: null, username: \"\" },\r\n          message: { msgBody: \"Unauthorized\", msgError: true },\r\n        };\r\n      }\r\n    });\r\n  },\r\n  logout: () => {\r\n    return fetch(\"/users/user/logout\")\r\n      .then((res) => res.json())\r\n      .then((data) => data);\r\n  },\r\n  isAuthenticated: () => {\r\n    return fetch(\"/users/user/authenticated\").then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return {\r\n          isAuthenticated: false,\r\n          user: { _id: null, username: \"\" },\r\n          message: { msgBody: \"Unauthorized\", msgError: true },\r\n        };\r\n      }\r\n    });\r\n  },\r\n};\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\ProductService.js",["152"],"export default {\r\n  getProducts: (userId) => {\r\n    return fetch(\"/users/user/getproducts\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(userId),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      return res.json().then((data) => data);\r\n    });\r\n  },\r\n  getMyProducts: () => {\r\n    return fetch(\"/users/user/getmyproducts\").then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  newProduct: (product) => {\r\n    return fetch(\"users/user/newproduct\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(product),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  removeProduct: (product) => {\r\n    return fetch(\"/users/user/removeproduct\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(product),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n};\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\UserService.js",["153"],"export default {\r\n  getUsers: () => {\r\n    return fetch(\"/users/getallusers\").then((res) => {\r\n      return res.json().then((data) => data);\r\n    });\r\n  },\r\n  updateUser: (personalInfo) => {\r\n    return fetch(\"/users/user/updateuser\", {\r\n      method: \"put\",\r\n      body: JSON.stringify(personalInfo),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n};\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\CheckoutItem.js",["154","155"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\OrderItem.js",[],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\AddressService.js",["156"],"export default {\r\n  newAddress: (address) => {\r\n    return fetch(\"/users/user/newaddress\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(address),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  updateAddress: (address) => {\r\n    return fetch(\"/users/user/updateaddress\", {\r\n      method: \"put\",\r\n      body: JSON.stringify(address),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  getAddress: () => {\r\n    return fetch(\"users/user/getaddress\").then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n};\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\staticData\\Products.js",["157"],"export default {\r\n  getProducts: () => {\r\n    return [\r\n      { id: 1, name: \"levergodis\", price: 10 },\r\n      { id: 2, name: \"baconben\", price: 30 },\r\n      { id: 3, name: \"klubba\", price: 5 },\r\n      { id: 4, name: \"choklad\", price: 15 },\r\n      { id: 5, name: \"Cola\", price: 10 },\r\n      { id: 6, name: \"Redbull\", price: 15 },\r\n    ];\r\n  },\r\n};\r\n",["158","159"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\PersonalInfo.js",["160"],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Products.js",[],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\components\\Address.js",["161"],"import React, { useState, useEffect } from \"react\";\r\nimport AddressService from \"../services/AddressService\";\r\n\r\nconst Address = (props) => {\r\n  const { authContext, setMessage } = props;\r\n\r\n  const [address, setAddress] = useState({\r\n    id: null,\r\n    street: \"\",\r\n    zipCode: \"\",\r\n    town: \"\",\r\n    country: \"\",\r\n  });\r\n  const [addingAddress, setAddingAddress] = useState(false);\r\n  const [changingAddress, setChangingAddress] = useState(false);\r\n\r\n  const onChangeAddress = (e) => {\r\n    setAddress({ ...address, [e.target.name]: e.target.value });\r\n  };\r\n  const addAddress = (e) => {\r\n    e.preventDefault();\r\n    AddressService.newAddress(address).then((data) => {\r\n      const { message } = data;\r\n      if (!message.msgError) {\r\n        AddressService.getAddress().then((data) => {\r\n          setAddingAddress(false);\r\n          setAddress(data.address);\r\n          setMessage(message);\r\n        });\r\n      } else if (message.msgBody === \"Unauthorized\") {\r\n        setMessage(message);\r\n        authContext.setUser({ username: \"\" });\r\n        authContext.setIsAuthenticated(false);\r\n      } else {\r\n        setMessage(message);\r\n      }\r\n    });\r\n  };\r\n\r\n  const changeAddress = (e) => {\r\n    e.preventDefault();\r\n    AddressService.updateAddress(address).then((data) => {\r\n      const { message } = data;\r\n      if (!message.msgError) {\r\n        AddressService.getAddress().then((data) => {\r\n          setChangingAddress(false);\r\n          setAddress(data.address);\r\n          setMessage(message);\r\n        });\r\n      } else if (message.msgBody === \"Unauthorized\") {\r\n        setMessage(message);\r\n        authContext.setUser({ username: \"\" });\r\n        authContext.setIsAuthenticated(false);\r\n      } else {\r\n        setMessage(message);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authContext.user.username !== \"\") {\r\n      AddressService.getAddress().then((data) => {\r\n        if (data && data.address) {\r\n          setAddress(data.address);\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <p style={{ fontWeight: \"bold\" }}>Address</p>\r\n      {!addingAddress &&\r\n        address.street === \"\" &&\r\n        address.zipCode === \"\" &&\r\n        address.town === \"\" &&\r\n        address.country === \"\" && (\r\n          <button onClick={() => setAddingAddress(true)}>Add address</button>\r\n        )}\r\n      {!changingAddress &&\r\n        (address.street !== \"\" ||\r\n          address.zipCode !== \"\" ||\r\n          address.town !== \"\" ||\r\n          address.country !== \"\") && (\r\n          <button onClick={() => setChangingAddress(true)}>\r\n            Change address\r\n          </button>\r\n        )}\r\n      {addingAddress && (\r\n        <form\r\n          onSubmit={addAddress}\r\n          style={{ display: \"flex\", flexDirection: \"column\" }}\r\n        >\r\n          <input\r\n            name=\"street\"\r\n            value={address.street}\r\n            onChange={onChangeAddress}\r\n            required\r\n            placeholder=\"Street\"\r\n          />\r\n          <input\r\n            name=\"zipCode\"\r\n            value={address.zipCode}\r\n            onChange={onChangeAddress}\r\n            required\r\n            placeholder=\"Zipcode\"\r\n          />\r\n          <input\r\n            name=\"town\"\r\n            value={address.town}\r\n            onChange={onChangeAddress}\r\n            required\r\n            placeholder=\"Town\"\r\n          />\r\n          <input\r\n            name=\"country\"\r\n            value={address.country}\r\n            onChange={onChangeAddress}\r\n            required\r\n            placeholder=\"country\"\r\n          />\r\n          <button type=\"submit\">Save</button>\r\n          <button onClick={() => setAddingAddress(false)}>Close</button>\r\n        </form>\r\n      )}\r\n      {changingAddress && (\r\n        <form\r\n          onSubmit={changeAddress}\r\n          style={{ display: \"flex\", flexDirection: \"column\" }}\r\n        >\r\n          <input\r\n            name=\"street\"\r\n            value={address.street}\r\n            onChange={onChangeAddress}\r\n            required\r\n            placeholder=\"Street\"\r\n          />\r\n          <input\r\n            name=\"zipCode\"\r\n            value={address.zipCode}\r\n            onChange={onChangeAddress}\r\n            required\r\n            placeholder=\"Zipcode\"\r\n          />\r\n          <input\r\n            name=\"town\"\r\n            value={address.town}\r\n            onChange={onChangeAddress}\r\n            required\r\n            placeholder=\"Town\"\r\n          />\r\n          <input\r\n            name=\"country\"\r\n            value={address.country}\r\n            onChange={onChangeAddress}\r\n            required\r\n            placeholder=\"country\"\r\n          />\r\n          <button type=\"submit\">Save</button>\r\n          <button onClick={() => setChangingAddress(false)}>Close</button>\r\n        </form>\r\n      )}\r\n      <p>{address.street}</p>\r\n      <p>{address.zipCode}</p>\r\n      <p>{address.town}</p>\r\n      <p>{address.country}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Address;\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\services\\OrderService.js",["162"],"export default {\r\n  newOrder: (order) => {\r\n    return fetch(\"/users/user/neworder\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(order),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  newOrderHistoryItem: (order) => {\r\n    return fetch(\"/users/user/neworderhistoryitem\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(order),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unautorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  getOrders: () => {\r\n    return fetch(\"users/user/getorders\").then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  getOrderHistory: () => {\r\n    return fetch(\"users/user/getorderhistory\").then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  removeOrder: (order) => {\r\n    return fetch(\"/users/user/removeorder\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(order),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n  handleOrder: (order) => {\r\n    return fetch(\"/users/user/handleorder\", {\r\n      method: \"put\",\r\n      body: JSON.stringify(order),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) {\r\n        return res.json().then((data) => data);\r\n      } else {\r\n        return { message: { msgBody: \"Unauthorized\", msgError: true } };\r\n      }\r\n    });\r\n  },\r\n};\r\n","C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\hocs\\PrivateRoute.js",[],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\hocs\\UnPrivateRoute.js",[],"C:\\Users\\ChristianJohannesson\\Desktop\\Projects\\loppis\\frontend\\src\\staticData\\Stores.js",["163"],"export default {\r\n  getStores: () => {\r\n    return [\r\n      { id: 1, name: \"Lunas hundgodis\", products: [1, 2] },\r\n      { id: 2, name: \"Crilles godis\", products: [3, 4] },\r\n      { id: 3, name: \"Pelles läsk\", products: [5, 6] },\r\n    ];\r\n  },\r\n};\r\n",{"ruleId":"164","replacedBy":"165"},{"ruleId":"166","replacedBy":"167"},{"ruleId":"168","severity":1,"message":"169","line":2,"column":8,"nodeType":"170","messageId":"171","endLine":2,"endColumn":14},{"ruleId":"164","replacedBy":"172"},{"ruleId":"166","replacedBy":"173"},{"ruleId":"164","replacedBy":"174"},{"ruleId":"166","replacedBy":"175"},{"ruleId":"164","replacedBy":"176"},{"ruleId":"166","replacedBy":"177"},{"ruleId":"178","severity":1,"message":"179","line":6,"column":1,"nodeType":"180","endLine":32,"endColumn":3},{"ruleId":"168","severity":1,"message":"181","line":11,"column":10,"nodeType":"170","messageId":"171","endLine":11,"endColumn":17},{"ruleId":"164","replacedBy":"182"},{"ruleId":"166","replacedBy":"183"},{"ruleId":"168","severity":1,"message":"169","line":2,"column":8,"nodeType":"170","messageId":"171","endLine":2,"endColumn":14},{"ruleId":"168","severity":1,"message":"184","line":3,"column":8,"nodeType":"170","messageId":"171","endLine":3,"endColumn":16},{"ruleId":"178","severity":1,"message":"179","line":5,"column":1,"nodeType":"180","endLine":18,"endColumn":3},{"ruleId":"168","severity":1,"message":"185","line":5,"column":8,"nodeType":"170","messageId":"171","endLine":5,"endColumn":19},{"ruleId":"168","severity":1,"message":"186","line":7,"column":8,"nodeType":"170","messageId":"171","endLine":7,"endColumn":22},{"ruleId":"168","severity":1,"message":"181","line":22,"column":10,"nodeType":"170","messageId":"171","endLine":22,"endColumn":17},{"ruleId":"187","severity":1,"message":"188","line":96,"column":6,"nodeType":"189","endLine":96,"endColumn":8,"suggestions":"190"},{"ruleId":"168","severity":1,"message":"169","line":4,"column":8,"nodeType":"170","messageId":"171","endLine":4,"endColumn":14},{"ruleId":"178","severity":1,"message":"191","line":1,"column":1,"nodeType":"180","endLine":46,"endColumn":3},{"ruleId":"178","severity":1,"message":"191","line":1,"column":1,"nodeType":"180","endLine":50,"endColumn":3},{"ruleId":"178","severity":1,"message":"191","line":1,"column":1,"nodeType":"180","endLine":22,"endColumn":3},{"ruleId":"187","severity":1,"message":"192","line":70,"column":6,"nodeType":"189","endLine":70,"endColumn":22,"suggestions":"193"},{"ruleId":"187","severity":1,"message":"194","line":90,"column":6,"nodeType":"189","endLine":90,"endColumn":35,"suggestions":"195"},{"ruleId":"178","severity":1,"message":"191","line":1,"column":1,"nodeType":"180","endLine":41,"endColumn":3},{"ruleId":"178","severity":1,"message":"191","line":1,"column":1,"nodeType":"180","endLine":12,"endColumn":3},{"ruleId":"164","replacedBy":"196"},{"ruleId":"166","replacedBy":"197"},{"ruleId":"187","severity":1,"message":"198","line":52,"column":6,"nodeType":"189","endLine":52,"endColumn":26,"suggestions":"199"},{"ruleId":"187","severity":1,"message":"188","line":68,"column":6,"nodeType":"189","endLine":68,"endColumn":8,"suggestions":"200"},{"ruleId":"178","severity":1,"message":"191","line":1,"column":1,"nodeType":"180","endLine":80,"endColumn":3},{"ruleId":"178","severity":1,"message":"191","line":1,"column":1,"nodeType":"180","endLine":9,"endColumn":3},"no-native-reassign",["201"],"no-negated-in-lhs",["202"],"no-unused-vars","'Stores' is defined but never used.","Identifier","unusedVar",["201"],["202"],["201"],["202"],["201"],["202"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'message' is assigned a value but never used.",["201"],["202"],"'Products' is defined but never used.","'UserService' is defined but never used.","'AddressService' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'authContext.user.username'. Either include it or remove the dependency array.","ArrayExpression",["203"],"Assign object to a variable before exporting as module default","React Hook useEffect has missing dependencies: 'basketContext', 'order', and 'setMessage'. Either include them or remove the dependency array.",["204"],"React Hook useEffect has missing dependencies: 'authContext.user.email', 'authContext.user.firstname', 'authContext.user.lastname', 'authContext.user.phone', and 'order'. Either include them or remove the dependency array. You can also do a functional update 'setOrder(o => ...)' if you only need 'order' in the 'setOrder' call.",["205"],["201"],["202"],"React Hook useEffect has missing dependencies: 'authContext.user.email', 'authContext.user.firstname', 'authContext.user.lastname', 'authContext.user.phone', and 'personalInfo'. Either include them or remove the dependency array. You can also do a functional update 'setPersonalInfo(p => ...)' if you only need 'personalInfo' in the 'setPersonalInfo' call.",["206"],["207"],"no-global-assign","no-unsafe-negation",{"desc":"208","fix":"209"},{"desc":"210","fix":"211"},{"desc":"212","fix":"213"},{"desc":"214","fix":"215"},{"desc":"208","fix":"216"},"Update the dependencies array to be: [authContext.user.username]",{"range":"217","text":"218"},"Update the dependencies array to be: [basketContext, order, order.products, setMessage]",{"range":"219","text":"220"},"Update the dependencies array to be: [authContext.isAuthenticated, authContext.user.email, authContext.user.firstname, authContext.user.lastname, authContext.user.phone, order]",{"range":"221","text":"222"},"Update the dependencies array to be: [addingPersonalInfo, authContext.user.email, authContext.user.firstname, authContext.user.lastname, authContext.user.phone, personalInfo]",{"range":"223","text":"224"},{"range":"225","text":"218"},[3009,3011],"[authContext.user.username]",[2062,2078],"[basketContext, order, order.products, setMessage]",[2686,2715],"[authContext.isAuthenticated, authContext.user.email, authContext.user.firstname, authContext.user.lastname, authContext.user.phone, order]",[1564,1584],"[addingPersonalInfo, authContext.user.email, authContext.user.firstname, authContext.user.lastname, authContext.user.phone, personalInfo]",[2005,2007]]